#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"
bin_dir="node_modules/.bin"
echo "running pre-commit script..."


prettier_diff=$(git diff --cached --name-only)
eslint_diff=$(git diff --cached --name-only -- *.{tsx,ts,js,jsx})
echo $staged_files
prettier_length=${#prettier_diff} 
eslint_length=${#eslint_diff} 
if [ $eslint_diff -gt 0 ]
then
    $bin_dir/eslint --fix --cache --ignore-path=.gitignore $staged_files
    git add $staged_files
fi
if [ $prettier_diff -gt 0 ]
then
    $bin_dir/prettier --ignore-unknown --write --cache --ignore-path .gitignore $staged_files
    git add $staged_files
fi




